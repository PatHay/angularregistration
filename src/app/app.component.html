<head>
  <link rel="stylesheet" href="https://unpkg.com/bootstrap@3.3.7/dist/css/bootstrap.min.css">
</head>
<h1> Registration </h1>
<div id="formBox">

  <div [hidden]="!submitted">
    <p>Thank you for registering with us {{ users.first_name }}. We just sent you a confirmation email at <a href="link">{{ users.email }}</a>, and we will send all mail to {{ users.street }} {{ users.unit }}, {{ users.city }} {{ users.state }}.<br> Have a wonderful day!<br>
      <button class="btn btn-primary" (click)="submitted=false">Close</button></p>
  </div>

  <form (submit)="onSubmit()" id="form1" #myForm='ngForm'>
    <div class="form-group">
      <label for="name">*First name:</label><input class="form-control" type="text" name="first_name" required minlength="4"
        #first_name="ngModel" [(ngModel)]="user.first_name"><div [hidden]="first_name.valid || first_name.pristine" class="alert alert-danger">First Name is required</div>
    </div>
    <div class="form-group">
      <label for="label">*Last name:</label><input class="form-control" type="text" name="last_name" required minlength="4" #last_name="ngModel"
        [(ngModel)]="user.last_name"><div [hidden]="last_name.valid || (last_name.pristine)" class="alert alert-danger">Last Name is required</div>
    </div>
    <div class="form-group">
      <label for="label">*Email:</label><input class="form-control" type="text" name="email" required #email="ngModel" [(ngModel)]="user.email">
      <div [hidden]="email.valid || (email.pristine)" class="alert alert-danger">Email is required</div>
    </div>
    <div class="form-group">
      <label for="label">*Password:</label><input class="form-control" type="password" name="pw" required minlength="6" #pw="ngModel" [(ngModel)]="user.pw">
      <div [hidden]="pw.valid || (pw.pristine)" class="alert alert-danger">Password is required</div>
    </div>
    <div class="form-group">
      <label for="label">*Password Confirmation:</label><input class="form-control" type="password" name="confirm_pw" required minlength="6"
        #confirm_pw="ngModel" [(ngModel)]="user.confirm_pw"><div [hidden]="confirm_pw.valid || (confirm_pw.pristine)" class="alert alert-danger">Password Confirmation is required</div>
        <div class = "alert alert-danger" *ngIf="user.pw != user.confirm_pw && !confirm_pw.pristine">Password and Password Confirmation must match!</div>
    </div>
    <div class="form-group">
      <label for="label">*Street Address:</label><input class="form-control" type="text" name="street" required #street="ngModel" [(ngModel)]="user.street">
      <div [hidden]="street.valid || (street.pristine)" class="alert alert-danger">Street Address is required</div>
    </div>
    <div class="form-group">
      <label for="label">Unit/Apt #:</label><input class="form-control" type="text" name="unit" #unit="ngModel" [(ngModel)]="user.unit">
    </div>
    <div class="form-group">
      <label for="label">*City:</label><input class="form-control" type="text" name="city" required #city="ngModel" [(ngModel)]="user.city">
      <div [hidden]="city.valid || (city.pristine)" class="alert alert-danger">City is required</div>
    </div>
    <div class="form-group">
      <label for="label">*State:</label>
      <select name="states" required #state="ngModel" [(ngModel)]="user.state">
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="DC">District Of Columbia</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>		
      </select><div [hidden]="state.valid || (state.pristine)" class="alert alert-danger">State is required</div>
    </div>
    <div class="form-group">
      <label for="label">*I'm feeling lucky:</label>
      <input type="radio" name="lucky" value="Yes" required #lucky="ngModel" [(ngModel)]="user.lucky">Yes
      <input type="radio" name="lucky" value="No" required #lucky="ngModel" [(ngModel)]="user.lucky">No<div [hidden]="lucky.valid || (lucky.pristine)" class="alert alert-danger">Must choose if you are lucky</div>
    </div>
  </form>
</div>
<div id="regBox">
  <button type="submit" form="form1" class="btn btn-success" value="Submit" id="register" [disabled]="!myForm.form.valid">Register</button>
</div> {{ confirm_pw.errors
|json }} {{ confirm_pw.valid | json }}